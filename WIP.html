<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid with Filters</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }

        .header {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            writing-mode: vertical-rl; /* Vertical writing mode */
            text-orientation: mixed; /* Upright text */
            position: fixed;
            top: 0;
            left: 0;
            z-index: 999; /* Ensure it's above other content */
        }

        .container {
            max-width: calc(100% - 200px); /* Adjust maximum width */
            margin: 100px auto; /* Center container */
            padding: 20px;
            position: relative;
        }

        .scrollable-container {
            max-height: 70vh;
            overflow-y: auto;
            border-radius: 10px;
            margin-top: 20px;
        }

        table {
            border-collapse: collapse;
            width: 100%; /* Full width */
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
            border-radius: 10px; /* Rounded edges */
        }

        th {
            background-color: #4CAF50; /* Header background color */
            color: white; /* Header text color */
            font-weight: bold; /* Bold font */
            position: sticky;
            top: 0; /* Stick to the top */
            z-index: 1; /* Ensure it's above other content */
        }

        input[type=text] {
            width: calc(100% - 20px); /* Adjust width to fit in the th */
            padding: 5px;
            margin-top: 5px;
            box-sizing: border-box;
        }

        #recordCount {
            font-weight: bold;
            color: red; /* Set color to red */
            margin-top: 10px;
        }

        .floating-section {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ffffff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 10px;
            z-index: 999; /* Ensure it's above other content */
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>

<div class="header">
    <h1 style="margin: 0; writing-mode: vertical-rl; text-orientation: mixed;">Grid with Filters</h1>
</div>

<div class="container">
    <div class="scrollable-container">
        <table id="myTable">
            <thead>
            <tr>
                <th style="background-color: #4CAF50; color: white; padding: 10px;">Name <input type="text" data-index="0" placeholder="Filter by name.."></th>
                <th style="background-color: #4CAF50; color: white; padding: 10px;">Age <input type="text" data-index="1" placeholder="Filter by age.."></th>
                <th style="background-color: #4CAF50; color: white; padding: 10px;">Country <input type="text" data-index="2" placeholder="Filter by country.."></th>
                <!-- Add more columns as needed -->
            </tr>
            </thead>
            <tbody id="tableBody">
            <!-- Table rows will be dynamically generated here -->
            </tbody>
        </table>
    </div>
</div>

<div class="floating-section" id="floatingSection">
    Filtered Records: <span id="recordCount"></span>
    <button id="clearFilters">Clear Filters</button>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const filterInputs = document.querySelectorAll('input[type="text"]');
        const table = document.getElementById('myTable');
        const recordCount = document.getElementById('recordCount');
        const clearFiltersBtn = document.getElementById('clearFilters');

        let totalRecords = 0;

        // Generate 100 records
        const tableBody = document.getElementById("tableBody");
        for (let i = 1; i <= 100; i++) {
            const newRow = document.createElement("tr");
            newRow.innerHTML = `<td>Name${i}</td><td>${20 + i}</td><td>Country${i}</td>`;
            tableBody.appendChild(newRow);
            totalRecords++;
        }

        function filterColumn(columnIndex) {
            const filter = filterInputs[columnIndex].value.toUpperCase();
            let filteredCount = 0;

            // Start from index 1 to exclude the header row
            for (let i = 1; i < table.rows.length; i++) {
                const row = table.rows[i];
                const cellValue = row.cells[columnIndex].textContent || row.cells[columnIndex].innerText;
                if (cellValue.toUpperCase().includes(filter)) {
                    row.style.display = ''; // Show the row
                    filteredCount++;
                } else {
                    row.style.display = 'none'; // Hide the row
                }
            }

            updateRecordCount(filteredCount);
        }

        function updateRecordCount(filteredCount) {
            recordCount.textContent = filteredCount;
        }

        function clearFilters() {
            filterInputs.forEach(input => input.value = '');
            // Start from index 1 to exclude the header row
            for (let i = 1; i < table.rows.length; i++) {
                table.rows[i].style.display = ''; // Show all rows
            }
            updateRecordCount(totalRecords);
        }

        filterInputs.forEach((input, index) => {
            input.addEventListener('keyup', () => filterColumn(index));
        });

        clearFiltersBtn.addEventListener('click', clearFilters);
    });
</script>

</body>
</html>
